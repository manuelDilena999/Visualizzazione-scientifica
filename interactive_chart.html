
<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="utf-8">
    <title>Numero asteroidi Pericolosi per Anno</title>
    <link rel="stylesheet" href="hazardous_asteroyds.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>Asteroidi Potenzialmente Pericolosi per Anno</h1>
        <br>
        <p>Modifica il range di anni :</p>
        <form onsubmit="updateChart(); return false;" class="year-form">
            <label for="start">Anno inizio:</label>
            <input type="number" id="start" name="start" min="1900" max="2100">
            <label for="end">Anno fine:</label>
            <input type="number" id="end" name="end" min="1900" max="2100">
            <input type="submit" value="Genera">
        </form>

        <div id="chart" class="chart-area"></div>
    </div>

    <script>
        const rawData = [{"year":1899,"count":1},{"year":1900,"count":265},{"year":1901,"count":274},{"year":1902,"count":230},{"year":1903,"count":276},{"year":1904,"count":255},{"year":1905,"count":222},{"year":1906,"count":268},{"year":1907,"count":263},{"year":1908,"count":245},{"year":1909,"count":238},{"year":1910,"count":244},{"year":1911,"count":252},{"year":1912,"count":258},{"year":1913,"count":224},{"year":1914,"count":255},{"year":1915,"count":292},{"year":1916,"count":264},{"year":1917,"count":245},{"year":1918,"count":245},{"year":1919,"count":260},{"year":1920,"count":248},{"year":1921,"count":245},{"year":1922,"count":240},{"year":1923,"count":243},{"year":1924,"count":232},{"year":1925,"count":259},{"year":1926,"count":277},{"year":1927,"count":249},{"year":1928,"count":243},{"year":1929,"count":270},{"year":1930,"count":266},{"year":1931,"count":239},{"year":1932,"count":260},{"year":1933,"count":250},{"year":1934,"count":262},{"year":1935,"count":222},{"year":1936,"count":236},{"year":1937,"count":244},{"year":1938,"count":272},{"year":1939,"count":254},{"year":1940,"count":290},{"year":1941,"count":235},{"year":1942,"count":246},{"year":1943,"count":267},{"year":1944,"count":257},{"year":1945,"count":247},{"year":1946,"count":222},{"year":1947,"count":233},{"year":1948,"count":234},{"year":1949,"count":261},{"year":1950,"count":246},{"year":1951,"count":263},{"year":1952,"count":257},{"year":1953,"count":271},{"year":1954,"count":224},{"year":1955,"count":226},{"year":1956,"count":258},{"year":1957,"count":243},{"year":1958,"count":269},{"year":1959,"count":259},{"year":1960,"count":250},{"year":1961,"count":257},{"year":1962,"count":260},{"year":1963,"count":239},{"year":1964,"count":274},{"year":1965,"count":268},{"year":1966,"count":264},{"year":1967,"count":266},{"year":1968,"count":288},{"year":1969,"count":247},{"year":1970,"count":231},{"year":1971,"count":233},{"year":1972,"count":253},{"year":1973,"count":234},{"year":1974,"count":237},{"year":1975,"count":256},{"year":1976,"count":230},{"year":1977,"count":248},{"year":1978,"count":259},{"year":1979,"count":234},{"year":1980,"count":243},{"year":1981,"count":274},{"year":1982,"count":241},{"year":1983,"count":226},{"year":1984,"count":247},{"year":1985,"count":235},{"year":1986,"count":237},{"year":1987,"count":239},{"year":1988,"count":240},{"year":1989,"count":260},{"year":1990,"count":251},{"year":1991,"count":245},{"year":1992,"count":239},{"year":1993,"count":264},{"year":1994,"count":246},{"year":1995,"count":253},{"year":1996,"count":245},{"year":1997,"count":273},{"year":1998,"count":284},{"year":1999,"count":260},{"year":2000,"count":280},{"year":2001,"count":251},{"year":2002,"count":313},{"year":2003,"count":252},{"year":2004,"count":306},{"year":2005,"count":311},{"year":2006,"count":297},{"year":2007,"count":275},{"year":2008,"count":329},{"year":2009,"count":297},{"year":2010,"count":345},{"year":2011,"count":254},{"year":2012,"count":296},{"year":2013,"count":262},{"year":2014,"count":259},{"year":2015,"count":267},{"year":2016,"count":277},{"year":2017,"count":265},{"year":2018,"count":287},{"year":2019,"count":258},{"year":2020,"count":252},{"year":2021,"count":261},{"year":2022,"count":264},{"year":2023,"count":256},{"year":2024,"count":197},{"year":2025,"count":224},{"year":2026,"count":260},{"year":2027,"count":239},{"year":2028,"count":252},{"year":2029,"count":248},{"year":2030,"count":229},{"year":2031,"count":239},{"year":2032,"count":251},{"year":2033,"count":252},{"year":2034,"count":274},{"year":2035,"count":242},{"year":2036,"count":240},{"year":2037,"count":248},{"year":2038,"count":247},{"year":2039,"count":238},{"year":2040,"count":257},{"year":2041,"count":245},{"year":2042,"count":226},{"year":2043,"count":238},{"year":2044,"count":233},{"year":2045,"count":252},{"year":2046,"count":237},{"year":2047,"count":238},{"year":2048,"count":260},{"year":2049,"count":252},{"year":2050,"count":238},{"year":2051,"count":252},{"year":2052,"count":231},{"year":2053,"count":246},{"year":2054,"count":237},{"year":2055,"count":249},{"year":2056,"count":260},{"year":2057,"count":265},{"year":2058,"count":254},{"year":2059,"count":243},{"year":2060,"count":264},{"year":2061,"count":271},{"year":2062,"count":242},{"year":2063,"count":245},{"year":2064,"count":261},{"year":2065,"count":246},{"year":2066,"count":271},{"year":2067,"count":251},{"year":2068,"count":241},{"year":2069,"count":251},{"year":2070,"count":235},{"year":2071,"count":262},{"year":2072,"count":232},{"year":2073,"count":273},{"year":2074,"count":236},{"year":2075,"count":244},{"year":2076,"count":250},{"year":2077,"count":236},{"year":2078,"count":219},{"year":2079,"count":249},{"year":2080,"count":267},{"year":2081,"count":226},{"year":2082,"count":269},{"year":2083,"count":237},{"year":2084,"count":244},{"year":2085,"count":248},{"year":2086,"count":220},{"year":2087,"count":251},{"year":2088,"count":247},{"year":2089,"count":220},{"year":2090,"count":246},{"year":2091,"count":244},{"year":2092,"count":253},{"year":2093,"count":252},{"year":2094,"count":232},{"year":2095,"count":233},{"year":2096,"count":254},{"year":2097,"count":246},{"year":2098,"count":259},{"year":2099,"count":261},{"year":2100,"count":269},{"year":2101,"count":229},{"year":2102,"count":279},{"year":2103,"count":256},{"year":2104,"count":271},{"year":2105,"count":256},{"year":2106,"count":244},{"year":2107,"count":250},{"year":2108,"count":266},{"year":2109,"count":243},{"year":2110,"count":243},{"year":2111,"count":229},{"year":2112,"count":236},{"year":2113,"count":258},{"year":2114,"count":225},{"year":2115,"count":227},{"year":2116,"count":269},{"year":2117,"count":218},{"year":2118,"count":264},{"year":2119,"count":259},{"year":2120,"count":255},{"year":2121,"count":227},{"year":2122,"count":262},{"year":2123,"count":212},{"year":2124,"count":260},{"year":2125,"count":228},{"year":2126,"count":244},{"year":2127,"count":256},{"year":2128,"count":241},{"year":2129,"count":251},{"year":2130,"count":251},{"year":2131,"count":232},{"year":2132,"count":248},{"year":2133,"count":241},{"year":2134,"count":245},{"year":2135,"count":233},{"year":2136,"count":243},{"year":2137,"count":260},{"year":2138,"count":273},{"year":2139,"count":250},{"year":2140,"count":236},{"year":2141,"count":241},{"year":2142,"count":227},{"year":2143,"count":223},{"year":2144,"count":246},{"year":2145,"count":253},{"year":2146,"count":240},{"year":2147,"count":244},{"year":2148,"count":262},{"year":2149,"count":235},{"year":2150,"count":244},{"year":2151,"count":234},{"year":2152,"count":243},{"year":2153,"count":246},{"year":2154,"count":240},{"year":2155,"count":272},{"year":2156,"count":283},{"year":2157,"count":256},{"year":2158,"count":245},{"year":2159,"count":236},{"year":2160,"count":238},{"year":2161,"count":246},{"year":2162,"count":247},{"year":2163,"count":249},{"year":2164,"count":241},{"year":2165,"count":263},{"year":2166,"count":274},{"year":2167,"count":261},{"year":2168,"count":204},{"year":2169,"count":265},{"year":2170,"count":233},{"year":2171,"count":237},{"year":2172,"count":257},{"year":2173,"count":256},{"year":2174,"count":274},{"year":2175,"count":261},{"year":2176,"count":224},{"year":2177,"count":223},{"year":2178,"count":248},{"year":2179,"count":251},{"year":2180,"count":219},{"year":2181,"count":241},{"year":2182,"count":229},{"year":2183,"count":248},{"year":2184,"count":259},{"year":2185,"count":227},{"year":2186,"count":235},{"year":2187,"count":230},{"year":2188,"count":239},{"year":2189,"count":261},{"year":2190,"count":272},{"year":2191,"count":196},{"year":2192,"count":226},{"year":2193,"count":261},{"year":2194,"count":257},{"year":2195,"count":230},{"year":2196,"count":237},{"year":2197,"count":249},{"year":2198,"count":241},{"year":2199,"count":235},{"year":2200,"count":243}];

        function updateChart() {
            let start = parseInt(document.getElementById('start').value) || 2015;
            let end = parseInt(document.getElementById('end').value) || 2025;

            let filtered = rawData.filter(r => r.year >= start && r.year <= end);
            let years = filtered.map(r => r.year);
            let counts = filtered.map(r => r.count);

            let layout = {
                title: `Asteroidi potenzialmente pericolosi (${start} - ${end})`,
                xaxis: {
                    title: 'Anno',
                    tickmode: 'linear',
                    tick0: start,
                    dtick: 1
                },
                yaxis: {
                    title: 'Numero di asteroidi pericolosi'
                },
                margin: { t: 50 }
            };

            if ((end - start + 1) > 15) {
                layout.xaxis.rangeslider = { visible: true };
            }

            Plotly.newPlot('chart', [{
                x: years,
                y: counts,
                type: 'bar'
            }], layout);
        }

        window.onload = () => {
            document.getElementById('start').value = 2015;
            document.getElementById('end').value = 2025;
            updateChart();
        }
    </script>
</body>
</html>
